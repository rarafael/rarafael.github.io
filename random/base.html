<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="my personal web page">
    <meta property="og:image" content="https://rarafael.net/wizard.webp">
    <title>base converter</title>
    <link rel="icon" href="https://rarafael.net/assets/icon.webp" type="image/gif">
    <link rel="stylesheet" href="https://rarafael.net/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu&family=Ubuntu+Mono">
</head>

<body>
    <div class="content">
        <h3>a simple base converter</h3>
        <p>
            <label for="inp_base">input base:</label>
            <select name="inp_base" id="inp_base">
                <option value="10">10</option>
                <option value="16">16</option>
                <option value="2">2</option>
            </select><br>
            <label for="out_base">output base:</label>
            <select name="out_base" id="out_base">
                <option value="10">10</option>
                <option value="16" selected>16</option>
                <option value="2">2</option>
            </select>
        </p>

        <p>
            <input type="text" id="number" required autocomplete="off" placeholder="input number"/>
        </p>
        <p>
            <span id="output" style="font-size:32px;font-family:'Ubuntu Mono';background-color:#181818;padding:4px;"/>
        </p>
        <script>
            const input_base = document.getElementById("inp_base");
            const output_base = document.getElementById("out_base");
            const input_num = document.getElementById("number");

            var output_num = 0;
            document.getElementById("output").innerHTML = output_num;
            input_num.addEventListener("input", update);
            input_base.addEventListener("input", update);
            output_base.addEventListener("input", update);

            update() => {
                if(input_base.value == 16)
                    input_num.setAttribute("inputmode", "text");
                else
                    input_num.setAttribute("inputmode", "numeric");
                if(input_num.value == '')
                    output_num = 0;
                else
                    output_num = parseInt(input_num.value.replace(/\s/g, ''), input_base.value).toString(output_base.value).toUpperCase();
                document.getElementById("output").innerHTML = output_num;
            }
            update();
        </script>

        <p>
        <details>
            <summary>rationale</summary>
            <p>
                how is it possible that this is the first fast, working base converter that I've seen.
                Is google just so terrible at pushing ad-filled, javascript monstrosities when you search
                for a simple base converter? this page is a couple of javascript functions, some simple
                css and html. The biggest network hurdle is the font which is sourced from google's api,
                but that is non-essential to the usage. How can these websites be so prominent while offering
                arguably the worst way to convert numbers online?
            </p>
            <p>
                yes, you can do space-separated input to make it more readable. yes, it only uses standard
                javascript functions. There isn't any magic behind this: it just works. Why do websites like
                this make a webpage for every conversion and require a page reload to recalculate the
                conversion? does it increase webpage stats? does it increase ad revenue from loading in new
                ads everytime you want to see your number? it drives me nuts how useless these sites can get.
            </p>
        </details>
        </p>
    </div>

    <footer class="footer">
        <ul style="list-style-type:none;">
            <li>color scheme ripped from <a href="https://srcery.sh/">srcery</a></li>
            <li><a href="https://rarafael.net/index.html">home</a></li>
            <li>check out my <a href="https://github.com/rarafael">github</a></li>
        </ul>
    </footer>
</body>

</html>
